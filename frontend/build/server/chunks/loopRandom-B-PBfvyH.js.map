{"version":3,"file":"loopRandom-B-PBfvyH.js","sources":["../../../.svelte-kit/adapter-node/chunks/loopRandom.js"],"sourcesContent":["import { w as writeAndUnwriteText } from \"./writeAndUnwriteText.js\";\nimport { b as rng, a as animationSetup, m as makeNestedStaticElementsVisible } from \"./animationSetup.js\";\nlet alreadyChoosenTexts = [];\nconst getRandomElement = (elements) => {\n  while (true) {\n    const randomIndex = rng(0, elements.length);\n    const isTextDifferentFromPrevious = typeof alreadyChoosenTexts === \"number\" && randomIndex !== alreadyChoosenTexts;\n    const isTextFirstTime = Array.isArray(alreadyChoosenTexts) && !alreadyChoosenTexts.includes(randomIndex);\n    const hasSingleChildElement = elements.length === 1;\n    const shouldAnimate = hasSingleChildElement || isTextFirstTime || isTextDifferentFromPrevious;\n    if (shouldAnimate) {\n      isTextDifferentFromPrevious && (alreadyChoosenTexts = []);\n      alreadyChoosenTexts.push(randomIndex);\n      const randomText = elements[randomIndex];\n      return randomText;\n    }\n    const restartRandomizationCycle = alreadyChoosenTexts.length === elements.length;\n    restartRandomizationCycle && (alreadyChoosenTexts = alreadyChoosenTexts.pop());\n  }\n};\nconst loopRandom = async (node, props) => {\n  const { options, elements } = animationSetup(node, props);\n  while (true) {\n    makeNestedStaticElementsVisible(node);\n    const element = getRandomElement(elements);\n    await writeAndUnwriteText(element, options);\n  }\n  return {\n    update() {\n    },\n    destroy() {\n    }\n  };\n};\nexport {\n  loopRandom as default\n};\n"],"names":[],"mappings":";;;;;;AAEA,IAAI,mBAAmB,GAAG,EAAE,CAAC;AAC7B,MAAM,gBAAgB,GAAG,CAAC,QAAQ,KAAK;AACvC,EAAE,OAAO,IAAI,EAAE;AACf,IAAI,MAAM,WAAW,GAAG,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;AAChD,IAAI,MAAM,2BAA2B,GAAG,OAAO,mBAAmB,KAAK,QAAQ,IAAI,WAAW,KAAK,mBAAmB,CAAC;AACvH,IAAI,MAAM,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAC7G,IAAI,MAAM,qBAAqB,GAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;AACxD,IAAI,MAAM,aAAa,GAAG,qBAAqB,IAAI,eAAe,IAAI,2BAA2B,CAAC;AAClG,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,2BAA2B,KAAK,mBAAmB,GAAG,EAAE,CAAC,CAAC;AAChE,MAAM,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC5C,MAAM,MAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;AAC/C,MAAM,OAAO,UAAU,CAAC;AACxB,KAAK;AACL,IAAI,MAAM,yBAAyB,GAAG,mBAAmB,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM,CAAC;AACrF,IAAI,yBAAyB,KAAK,mBAAmB,GAAG,mBAAmB,CAAC,GAAG,EAAE,CAAC,CAAC;AACnF,GAAG;AACH,CAAC,CAAC;AACG,MAAC,UAAU,GAAG,OAAO,IAAI,EAAE,KAAK,KAAK;AAC1C,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC5D,EAAE,OAAO,IAAI,EAAE;AACf,IAAI,+BAA+B,CAAC,IAAI,CAAC,CAAC;AAC1C,IAAI,MAAM,OAAO,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AAC/C,IAAI,MAAM,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAChD,GAAG;AACH,EAAE,OAAO;AACT,IAAI,MAAM,GAAG;AACb,KAAK;AACL,IAAI,OAAO,GAAG;AACd,KAAK;AACL,GAAG,CAAC;AACJ;;;;"}